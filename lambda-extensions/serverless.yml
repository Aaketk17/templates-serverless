org: serverlessguru
app: patterns
service: example-lambda
provider:
  name: aws
  runtime: nodejs12.x
  stage: ${opt:stage, "dev"}
  region: ${opt:region, "us-west-2"}
custom:
  base: ${self:service}-${self:provider.stage}
  layerStackName: patterns:${self:provider.stage}:${self:provider.region}:elk-lambda-extension
functions:
  example:
    name: ${self:custom.base}-exampleLambda
    handler: index.js
    events:
      - http:
          path: /example
          cors: true
          method: any
    layers:
      - ${output:${self:custom.layerStackName}.ELKLambdaExtensionLayerArn}